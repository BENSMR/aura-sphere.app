--- a/functions/src/billing/paymentAudit.ts
+++ b/functions/src/billing/paymentAudit.ts
@@ -0,0 +1,120 @@
+import * as functions from "firebase-functions";
+import * as admin from "firebase-admin";
+
+if (!admin.apps.length) {
+  admin.initializeApp();
+}
+
+const db = admin.firestore();
+
+/**
+ * Audit Payment Processing
+ * Logs all payment activities for compliance and troubleshooting
+ */
+export const auditPaymentEvent = async (
+  uid: string,
+  invoiceId: string,
+  eventType: "payment_initiated" | "payment_completed" | "payment_failed" | "payment_refunded",
+  details: Record<string, any>
+): Promise<void> => {
+  const auditRef = db
+    .collection("users")
+    .doc(uid)
+    .collection("paymentAudit")
+    .doc();
+
+  const auditEntry = {
+    uid,
+    invoiceId,
+    eventType,
+    timestamp: admin.firestore.FieldValue.serverTimestamp(),
+    details: {
+      ...details,
+      userAgent: details.userAgent || "unknown",
+      ipAddress: details.ipAddress || "unknown",
+      provider: details.provider || "stripe"
+    },
+    status: "logged"
+  };
+
+  await auditRef.set(auditEntry);
+  console.log(`Payment audit logged: ${eventType} for invoice ${invoiceId}`);
+};
+
+/**
+ * Get Payment Audit Trail for Invoice
+ */
+export const getPaymentAuditTrail = async (
+  uid: string,
+  invoiceId: string
+): Promise<any[]> => {
+  const snapshot = await db
+    .collection("users")
+    .doc(uid)
+    .collection("paymentAudit")
+    .where("invoiceId", "==", invoiceId)
+    .orderBy("timestamp", "desc")
+    .get();
+
+  return snapshot.docs.map((doc) => ({
+    id: doc.id,
+    ...doc.data()
+  }));
+};
+
+/**
+ * Export Payment Records for Compliance
+ */
+export const exportPaymentRecords = functions.https.onCall(async (data, context) => {
+  if (!context.auth || !context.auth.uid) {
+    throw new functions.https.HttpsError("unauthenticated", "User not authenticated");
+  }
+
+  const uid = context.auth.uid;
+  const { invoiceId, format = "json" } = data;
+
+  // Get payment records
+  const paymentsSnapshot = await db
+    .collection("users")
+    .doc(uid)
+    .collection("invoices")
+    .doc(invoiceId)
+    .collection("payments")
+    .get();
+
+  // Get audit trail
+  const auditSnapshot = await db
+    .collection("users")
+    .doc(uid)
+    .collection("paymentAudit")
+    .where("invoiceId", "==", invoiceId)
+    .get();
+
+  const payments = paymentsSnapshot.docs.map((doc) => ({
+    id: doc.id,
+    ...doc.data()
+  }));
+
+  const auditTrail = auditSnapshot.docs.map((doc) => ({
+    id: doc.id,
+    ...doc.data()
+  }));
+
+  const exportData = {
+    invoiceId,
+    exportedAt: new Date().toISOString(),
+    payments,
+    auditTrail
+  };
+
+  console.log(`Payment records exported for invoice ${invoiceId}`);
+
+  return {
+    success: true,
+    data: exportData,
+    count: {
+      payments: payments.length,
+      auditEvents: auditTrail.length
+    }
+  };
+});
+
--- a/functions/src/billing/sendPaymentEmail.ts
+++ b/functions/src/billing/sendPaymentEmail.ts
@@ -0,0 +1,150 @@
+import * as functions from "firebase-functions";
+import * as admin from "firebase-admin";
+
+if (!admin.apps.length) {
+  admin.initializeApp();
+}
+
+const db = admin.firestore();
+const SENDGRID_API_KEY = functions.config()?.sendgrid?.api_key || "";
+
+// Import SendGrid SDK (requires: npm install @sendgrid/mail)
+let sgMail: any = null;
+try {
+  const sgModule = require("@sendgrid/mail");
+  sgMail = sgModule;
+  if (SENDGRID_API_KEY) {
+    sgMail.setApiKey(SENDGRID_API_KEY);
+  }
+} catch (err) {
+  console.warn("SendGrid module not installed or configured");
+}
+
+/**
+ * Send Payment Confirmation Email
+ */
+export const sendPaymentConfirmationEmail = async (
+  uid: string,
+  invoiceId: string,
+  customerEmail: string,
+  paymentDetails: Record<string, any>
+): Promise<void> => {
+  if (!sgMail || !SENDGRID_API_KEY) {
+    console.warn("SendGrid not configured, skipping email");
+    return;
+  }
+
+  try {
+    // Get invoice details
+    const invoiceDoc = await db
+      .collection("users")
+      .doc(uid)
+      .collection("invoices")
+      .doc(invoiceId)
+      .get();
+
+    const invoice = invoiceDoc.data() || {};
+    const amount = (paymentDetails.amount / 100).toFixed(2);
+    const currency = paymentDetails.currency?.toUpperCase() || "USD";
+
+    // Email template
+    const emailContent = `
+<!DOCTYPE html>
+<html>
+  <head>
+    <style>
+      body { font-family: Arial, sans-serif; color: #333; }
+      .container { max-width: 600px; margin: 0 auto; padding: 20px; }
+      .header { background: #4CAF50; color: white; padding: 20px; text-align: center; }
+      .content { padding: 20px; border: 1px solid #ddd; }
+      .details { margin: 20px 0; }
+      .detail-row { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #eee; }
+      .footer { text-align: center; color: #999; font-size: 12px; padding: 20px; }
+    </style>
+  </head>
+  <body>
+    <div class="container">
+      <div class="header">
+        <h1>Payment Received âœ“</h1>
+      </div>
+      <div class="content">
+        <p>Dear ${invoice.customerName || "Valued Customer"},</p>
+        <p>Thank you for your payment! We have successfully received your payment for invoice <strong>${invoice.invoiceNumber}</strong>.</p>
+        
+        <div class="details">
+          <div class="detail-row">
+            <span><strong>Invoice Number:</strong></span>
+            <span>${invoice.invoiceNumber}</span>
+          </div>
+          <div class="detail-row">
+            <span><strong>Amount Paid:</strong></span>
+            <span>${currency} ${amount}</span>
+          </div>
+          <div class="detail-row">
+            <span><strong>Payment Method:</strong></span>
+            <span>${paymentDetails.cardBrand || "Card"} ending in ${paymentDetails.last4 || "****"}</span>
+          </div>
+          <div class="detail-row">
+            <span><strong>Payment Date:</strong></span>
+            <span>${new Date(paymentDetails.paidAt).toLocaleDateString()}</span>
+          </div>
+          <div class="detail-row">
+            <span><strong>Transaction ID:</strong></span>
+            <span style="font-family: monospace;">${paymentDetails.stripePaymentIntent || "N/A"}</span>
+          </div>
+        </div>
+        
+        <p>If you have any questions about this payment or invoice, please don't hesitate to contact us.</p>
+        <p>Thank you for your business!</p>
+      </div>
+      <div class="footer">
+        <p>This is an automated email. Please do not reply to this message.</p>
+      </div>
+    </div>
+  </body>
+</html>
+    `;
+
+    // Send email
+    await sgMail.send({
+      to: customerEmail,
+      from: functions.config()?.sendgrid?.from_email || "noreply@yourdomain.com",
+      subject: `Payment Confirmation - Invoice ${invoice.invoiceNumber}`,
+      html: emailContent,
+      replyTo: functions.config()?.sendgrid?.reply_to || "support@yourdomain.com"
+    });
+
+    console.log(`Payment confirmation email sent to ${customerEmail}`);
+  } catch (err) {
+    console.error("Error sending payment confirmation email:", err);
+    throw err;
+  }
+};
+
+/**
+ * Send Payment Receipt Email - Cloud Function
+ */
+export const paymentReceiptEmail = functions.https.onCall(async (data, context) => {
+  if (!context.auth || !context.auth.uid) {
+    throw new functions.https.HttpsError("unauthenticated", "User not authenticated");
+  }
+
+  const uid = context.auth.uid;
+  const { invoiceId, email: customerEmail } = data;
+
+  // Get payment details
+  const paymentsSnapshot = await db
+    .collection("users")
+    .doc(uid)
+    .collection("invoices")
+    .doc(invoiceId)
+    .collection("payments")
+    .where("status", "==", "succeeded")
+    .orderBy("paidAt", "desc")
+    .limit(1)
+    .get();
+
+  if (paymentsSnapshot.empty) {
+    throw new functions.https.HttpsError("not-found", "No payment found for this invoice");
+  }
+
+  const paymentData = paymentsSnapshot.docs[0].data();
+  await sendPaymentConfirmationEmail(uid, invoiceId, customerEmail, paymentData);
+
+  return { success: true, message: "Receipt email sent" };
+});
+
--- a/functions/src/index.ts
+++ b/functions/src/index.ts
@@ -32,6 +32,8 @@ export * from "./migrations/migrate_business_profiles";
 export * from "./billing/createCheckoutSession";
+export * from "./billing/stripeWebhook";
+export * from "./billing/paymentAudit";
+export * from "./billing/sendPaymentEmail";
 
--- a/functions/package.json
+++ b/functions/package.json
@@ -20,6 +20,7 @@
     "firebase-admin": "^11.10.1",
     "firebase-functions": "^4.9.0",
     "stripe": "^15.12.0",
+    "@sendgrid/mail": "^7.7.0",
     "express": "^4.18.2",
     "body-parser": "^1.20.2"
   },
